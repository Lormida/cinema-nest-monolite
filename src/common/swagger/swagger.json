{"openapi":"3.0.0","paths":{"/api/v1":{"get":{"operationId":"AppController_checkHealth","parameters":[],"responses":{"200":{"description":""}},"tags":["Healthcheck"]}},"/api/v1/seat":{"post":{"operationId":"SeatController_createSeat","summary":"","description":"Create a new seat","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSeatDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeatEntity"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestDto"}}}},"409":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictRequestDto"}}}}},"tags":["Seat"]}},"/api/v1/seats":{"get":{"operationId":"SeatController_findAllSeats","summary":"","description":"Get all seasts","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SeatEntity"}}}}}},"tags":["Seat"]}},"/api/v1/seats/{seatId}":{"get":{"operationId":"SeatController_findOneSeat","summary":"","description":"Get one seat by seatId","parameters":[{"name":"seatId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeatEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Seat"]},"patch":{"operationId":"SeatController_updateSeat","summary":"","description":"Update seat by seatId","parameters":[{"name":"seatId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSeatDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeatEntity"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestDto"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Seat"]},"delete":{"operationId":"SeatController_deleteSeat","summary":"","description":"Delete seat by seatId","parameters":[{"name":"seatId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeatEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Seat"]}},"/api/v1/movies":{"get":{"operationId":"MovieController_findAllMovies","summary":"","description":"Get all movies","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieEntity"}}}}}},"tags":["Movie"]}},"/api/v1/movies/cinemaHall/{cinemaHallId}":{"get":{"operationId":"MovieController_findMoviesForCinemaHall","summary":"","description":"Get all available movies for cinema hall (by cinema hall id)","parameters":[{"name":"cinemaHallId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Movie"]}},"/api/v1/movies/{movieId}":{"get":{"operationId":"MovieController_findOneMovie","summary":"","description":"Get one movie by movieId (from MovieRecord)","parameters":[{"name":"movieId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Movie"]}},"/api/v1/cinema":{"post":{"operationId":"CinemaController_createCinema","summary":"","description":"Create a cinema ","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCinemaDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindCinemaDto"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestDto"}}}},"409":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictRequestDto"}}}}},"tags":["Cinema"]}},"/api/v1/cinemas":{"get":{"operationId":"CinemaController_findAllCinemas","summary":"","description":"Get all cinemas","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FindCinemaDto"}}}}}},"tags":["Cinema"]}},"/api/v1/cinemas/{cinemaId}":{"get":{"operationId":"CinemaController_findOneCinema","summary":"","description":"Get one cinema by cinemaId","parameters":[{"name":"cinemaId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindCinemaDto"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Cinema"]},"patch":{"operationId":"CinemaController_updateCinema","summary":"","description":"Update cinema by cinemaId","parameters":[{"name":"cinemaId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCinemaDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindCinemaDto"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestDto"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Cinema"]},"delete":{"operationId":"CinemaController_deleteCinema","summary":"","description":"Delete cinema by cinemaId","parameters":[{"name":"cinemaId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindCinemaDto"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Cinema"]}},"/api/v1/movies-sessions":{"get":{"operationId":"MovieSessionController_findAllMovieSessions","summary":"","description":"Get all movies sessions","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieSessionEntity"}}}}}},"tags":["Movies sessions"]},"post":{"operationId":"MovieSessionController_createMovieSession","summary":"","description":"Create movie session","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMovieSessionDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieSessionEntity"}}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestDto"}}}},"409":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictRequestDto"}}}}},"tags":["Movies sessions"]}},"/api/v1/movies-sessions/{startDate}/{movieId}":{"get":{"operationId":"MovieSessionController_findMovieSessionsByDayAndMovie","summary":"","description":"Get movies sessions by day and movieId","parameters":[{"name":"startDate","required":true,"in":"path","schema":{"type":"string"}},{"name":"movieId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieSessionEntity"}}}}}},"tags":["Movies sessions"]}},"/api/v1/movies-sessions/{movieSessionId}":{"get":{"operationId":"MovieSessionController_findMovieSessionById","summary":"","description":"Get movie session by movieSessionId","parameters":[{"name":"movieSessionId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieSessionEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Movies sessions"]},"patch":{"operationId":"MovieSessionController_updateMovieSession","summary":"","description":"Update movie session by movieSessionId","parameters":[{"name":"movieSessionId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMovieSessionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieSessionEntity"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestDto"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Movies sessions"]},"delete":{"operationId":"MovieSessionController_deleteMovieSession","summary":"","description":"Delete movie session by movieSessionId","parameters":[{"name":"movieSessionId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieSessionEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Movies sessions"]}},"/api/v1/movies-sessions/cinema/{cinemaHallId}":{"delete":{"operationId":"MovieSessionController_resetMoviesSessionsForHall","summary":"","description":"Delete all movies sessions for cinema hall by cinemaHallId","parameters":[{"name":"cinemaHallId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteManyDto"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Movies sessions"]}},"/api/v1/movies-in-cinema":{"post":{"operationId":"MoviesInCinemaController_addMoviesToCinema","summary":"","description":"Add movies (by movieId-s) to cinema by cinemaId","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddMovieToCinemaDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieEntity"}}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestDto"}}}},"409":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictRequestDto"}}}}},"tags":["Movies in cinema"]}},"/api/v1/movies-in-cinema/{cinemaId}/{movieId}":{"get":{"operationId":"MoviesInCinemaController_checkIfMovieAvailableForCinema","summary":"","description":"Get if movie (by movieId) is available for cinema (by cinemaId)","parameters":[{"name":"movieId","required":true,"in":"path","schema":{"type":"number"}},{"name":"cinemaId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieIsAvailableForCinemaDto"}}}}},"tags":["Movies in cinema"]},"delete":{"operationId":"MoviesInCinemaController_deleteMovieFromCinema","summary":"","description":"Delete movie (by movieId) from cinema (by cinemaId)","parameters":[{"name":"cinemaId","required":true,"in":"path","schema":{"type":"number"}},{"name":"movieId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Movies in cinema"]}},"/api/v1/movies-in-cinema/{cinemaId}":{"get":{"operationId":"MoviesInCinemaController_findMoviesInCinema","summary":"","description":"Get all available movies for cinema by cinemaId","parameters":[{"name":"cinemaId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieEntity"}}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Movies in cinema"]},"delete":{"operationId":"MoviesInCinemaController_resetMoviesInCinema","summary":"","description":"Delete all movies from cinema (by cinemaId)","parameters":[{"name":"cinemaId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteManyDto"}}}}},"tags":["Movies in cinema"]}},"/api/v1/movies-reviews":{"get":{"operationId":"MovieReviewsController_findAllMoviesReviews","summary":"","description":"Get all reviews","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieReviewsEntity"}}}}}},"tags":["Reviews for movies"]}},"/api/v1/movies-reviews/{movieId}":{"get":{"operationId":"MovieReviewsController_findReviewsByMovie","summary":"","description":"Get reviews for movie by movieId (from MovieRecord)","parameters":[{"name":"movieId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovieReviewsEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Reviews for movies"]}},"/api/v1/bookings/booking-schema/{movieSessionId}":{"get":{"operationId":"BookingsController_findCinemaBookingSeatingSchemaByMovieSessionId","summary":"","description":"Get booking schema for movie session (by movieSessionId)","parameters":[{"name":"movieSessionId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FindMergedCinemaBookingSeatingSchemaDto"}}}}}},"tags":["Bookings"]}},"/api/v1/bookings/users/{userId}":{"get":{"operationId":"BookingsController_findBookingsByUser","summary":"","description":"Get user's bookings (admin permission is required)","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingEntity"}}}}},"tags":["Bookings"]}},"/api/v1/bookings/users":{"get":{"operationId":"BookingsController_findBookingsForCurrentUser","summary":"","description":"Get bookings for current user","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingEntity"}}}}},"tags":["Bookings"]}},"/api/v1/bookings/users/{movieSessionId}":{"delete":{"operationId":"BookingsController_cancelAllBookingForMovieSessionForUser","summary":"","description":"Cancel all bookings for current user","parameters":[{"name":"movieSessionId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteManyDto"}}}}},"tags":["Bookings"]}},"/api/v1/bookings/seats/{bookingId}":{"get":{"operationId":"BookingsController_findSeatsByBookingId","summary":"","description":"Get seats by bookingId","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FindSeatBookingDto"}}}}}},"tags":["Bookings"]}},"/api/v1/bookings/{bookingId}":{"get":{"operationId":"BookingsController_getBookingByBookingId","summary":"","description":"Get booking info by bookingId","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingEntity"}}}}},"tags":["Bookings"]},"delete":{"operationId":"BookingsController_cancelBooking","summary":"","description":"Cancel booking by bookingId","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingEntity"}}}}},"tags":["Bookings"]}},"/api/v1/bookings":{"post":{"operationId":"BookingsController_createBooking","summary":"","description":"Create booking","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookingDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingEntity"}}}}},"tags":["Bookings"]}},"/api/v1/auth/local/signup":{"post":{"operationId":"AuthJwtController_signupLocal","summary":"","description":"Signup locally","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Authorization JWT"]}},"/api/v1/auth/local/signin":{"post":{"operationId":"AuthJwtController_signinLocal","summary":"","description":"Signin locally","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninDto"}}}},"responses":{"204":{"description":""}},"tags":["Authorization JWT"]}},"/api/v1/auth/local/refresh":{"post":{"operationId":"AuthJwtController_refreshTokens","summary":"","description":"Refresh tokens","parameters":[],"responses":{"204":{"description":""}},"tags":["Authorization JWT"]}},"/api/v1/auth/local/logout":{"post":{"operationId":"AuthJwtController_logout","summary":"","description":"Logout","parameters":[],"responses":{"200":{"description":""}},"tags":["Authorization JWT"]}},"/api/v1/users":{"get":{"operationId":"UsersController_getAllUsers","summary":"","description":"Get all users","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserEntity"}}}}}},"tags":["Users"]},"delete":{"operationId":"UsersController_deleteUserAccountByAdmin","summary":"","description":"Delete user account by admin","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]}},"/api/v1/users/current":{"get":{"operationId":"UsersController_findCurrentUser","summary":"","description":"Get current user","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]}},"/api/v1/users/{userId}":{"get":{"operationId":"UsersController_findOneUserById","summary":"","description":"Get user by userId","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]},"delete":{"operationId":"UsersController_deleteUserAccount","summary":"","description":"Delete user account by admin","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]}},"/api/v1/users/avatar":{"put":{"operationId":"UsersController_updateUserAvatar","summary":"","description":"Update avatar for current user","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["avatar"],"properties":{"avatar":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]},"delete":{"operationId":"UsersController_deteteAvatarFile","summary":"","description":"Delete avatar for current user","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]}},"/api/v1/users/first-name/{newFirstName}":{"put":{"operationId":"UsersController_updateUserFirstName","summary":"","description":"Update first name for current user","parameters":[{"name":"newFirstName","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]}},"/api/v1/users/last-name/{newLastName}":{"put":{"operationId":"UsersController_updateUserLastName","summary":"","description":"Update last name for current user","parameters":[{"name":"newLastName","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]}},"/api/v1/users/username/{newUsername}":{"put":{"operationId":"UsersController_updateUserUsername","summary":"","description":"Update username for current user","parameters":[{"name":"newUsername","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}}},"tags":["Users"]}},"/api/v1/auth/google":{"get":{"operationId":"AuthGoogleController_googleAuth","summary":"","description":"Authorize through Google","parameters":[],"responses":{"200":{"description":""}},"tags":["Authorization Google"]}},"/api/v1/auth/google/redirect":{"get":{"operationId":"AuthGoogleController_googleAuthRedirect","summary":"","description":"Redirected here after Google authorization","parameters":[],"responses":{"200":{"description":""}},"tags":["Authorization Google"]}},"/api/v1/auth/github":{"get":{"operationId":"AuthGithubController_githubAuth","summary":"","description":"Authorize through Github","parameters":[],"responses":{"200":{"description":""}},"tags":["Authorization Github"]}},"/api/v1/auth/github/redirect":{"get":{"operationId":"AuthGithubController_githubAuthRedirect","summary":"","description":"Redirected here after Github authorization","parameters":[],"responses":{"200":{"description":""}},"tags":["Authorization Github"]}},"/api/v1/cinema-hall/{cinemaId}":{"post":{"operationId":"CinemaHallController_createCinemaHallWithSeatingSchema","summary":"","description":"Create cinema hall with seating schema","parameters":[{"name":"cinemaId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCinemaHallDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CinemaHallWithSchemaEntity"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestDto"}}}},"409":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictRequestDto"}}}}},"tags":["Cinema hall"]}},"/api/v1/cinema-hall/{cinemaHallId}":{"get":{"operationId":"CinemaHallController_findCinemaHallWithSeatingSchema","summary":"","description":"Get (full info) cinema hall by cinemaHallId","parameters":[{"name":"cinemaHallId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CinemaHallWithSchemaEntity"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"tags":["Cinema hall"]},"delete":{"operationId":"CinemaHallController_resetCinemaSeatingSchema","summary":"","description":"Delete cinema hall by cinemaHallId","parameters":[{"name":"cinemaHallId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CinemaHallEntity"}}}}},"tags":["Cinema hall"]}}},"info":{"title":"Modsen Cinema","description":"The Cinema API","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CreateSeatDto":{"type":"object","properties":{"col":{"type":"number","example":1},"row":{"type":"number","example":1}},"required":["col","row"]},"SeatEntity":{"type":"object","properties":{"col":{"type":"number","example":1},"row":{"type":"number","example":1}},"required":["col","row"]},"BadRequestDto":{"type":"object","properties":{"statusCode":{"type":"number","example":400},"message":{"example":["field must be an integer number"],"type":"array","items":{"type":"array"}},"error":{"type":"string","example":"Bad Request"}},"required":["statusCode","message","error"]},"ConflictRequestDto":{"type":"object","properties":{"statusCode":{"type":"number","example":409},"message":{"type":"string","example":"Invalid `this.prisma.model.create()`"},"error":{"type":"string","example":"Unique violation for foreign key"}},"required":["statusCode","message","error"]},"NotFoundResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":404},"message":{"type":"string","example":"Custom error"},"error":{"type":"string","example":"Not Found"}},"required":["statusCode","message","error"]},"UpdateSeatDto":{"type":"object","properties":{"col":{"type":"number","example":1},"row":{"type":"number","example":1}}},"MovieEntity":{"type":"object","properties":{"id":{"type":"string","example":"tt0111161"},"title":{"type":"string","example":"The Shawshank Redemption"},"description":{"type":"string","example":"Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency."},"releaseYear":{"type":"number","example":1994},"rating":{"type":"number","example":9.3},"duration":{"type":"number","example":146},"image":{"type":"string","example":"https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_QL75_UX380_CR0,1,380,562_.jpg"},"trailer":{"type":"string","example":"https://storage.yandexcloud.net/bucket-midapa/The%20Shawshank%20Redemption%20(1994)%20Official%20Trailer%20%231%20-%20Morgan%20Freeman%20Movie%20HD.mp4"},"countries":{"example":["Spain"],"type":"array","items":{"type":"string"}},"actors":{"example":["Tim Robbins","Morgan Freeman","Bob Gunton","William Sadler","Clancy Brown","Gil Bellows","Mark Rolston","James Whitmore","Jeffrey DeMunn","Larry Brandenburg","Neil Giuntoli","Brian Libby","David Proval","Joseph Ragno","Jude Ciccolella","Paul McCrane","Renee Blaine","Scott Mann"],"type":"array","items":{"type":"string"}},"genres":{"example":["Drama"],"type":"array","items":{"type":"string"}},"writers":{"example":["Stephen King"],"type":"array","items":{"type":"string"}},"authors":{"example":["Frank Darabont"],"type":"array","items":{"type":"string"}}},"required":["id","title","description","releaseYear","rating","duration","image","trailer","countries","actors","genres","writers","authors"]},"CreateCinemaDto":{"type":"object","properties":{"name":{"type":"string","example":"Dom Kino"},"address":{"type":"string","example":"Plotnikova 42"},"city":{"type":"string","example":"Minsk"}},"required":["name","address","city"]},"FindCinemaDto":{"type":"object","properties":{"name":{"type":"string","example":"Dom Kino"},"address":{"type":"string","example":"Plotnikova 42"},"city":{"type":"string","example":"Minsk"},"id":{"type":"number","example":1}},"required":["name","address","city","id"]},"UpdateCinemaDto":{"type":"object","properties":{"name":{"type":"string","example":"Dom Kino"},"address":{"type":"string","example":"Plotnikova 42"},"city":{"type":"string","example":"Minsk"}}},"CurrencyEnum":{"type":"string","enum":["USD","EUR","BYN","RUB"]},"HallTypeEnum":{"type":"string","enum":["1D","2D","3D","4D","5D"]},"MovieSessionEntity":{"type":"object","properties":{"id":{"type":"number","example":1},"startDate":{"format":"date-time","type":"string","example":"2023-03-24T10:25:01.504Z"},"endDate":{"format":"date-time","type":"string"},"movieId":{"type":"number","example":1},"cinemaHallId":{"type":"number","example":1},"price":{"type":"number","example":40},"amountAvailableSeats":{"type":"number","example":5},"currency":{"example":"USD","$ref":"#/components/schemas/CurrencyEnum"},"hallType":{"example":"2D","$ref":"#/components/schemas/HallTypeEnum"}},"required":["id","startDate","endDate","movieId","cinemaHallId","price","currency"]},"CreateMovieSessionDto":{"type":"object","properties":{"startDate":{"format":"date-time","type":"string","example":"2023-03-24T10:25:01.504Z"},"movieId":{"type":"number","example":1},"cinemaHallId":{"type":"number","example":1},"price":{"type":"number","example":40},"currency":{"example":"USD","$ref":"#/components/schemas/CurrencyEnum"},"priceFactors":{"type":"object","example":{"SEAT":1,"VIP":1.5,"LOVE":2.25},"description":"Price multipliers for each type of seat."}},"required":["startDate","movieId","cinemaHallId","price","priceFactors"]},"UpdateMovieSessionDto":{"type":"object","properties":{"startDate":{"format":"date-time","type":"string","example":"2023-03-24T10:25:01.504Z"},"movieId":{"type":"number","example":1},"cinemaHallId":{"type":"number","example":1},"price":{"type":"number","example":40},"currency":{"example":"USD","$ref":"#/components/schemas/CurrencyEnum"},"priceFactors":{"type":"object","example":{"SEAT":1,"VIP":1.5,"LOVE":2.25},"description":"Price multipliers for each type of seat."}}},"DeleteManyDto":{"type":"object","properties":{"count":{"type":"number"}},"required":["count"]},"AddMovieToCinemaDto":{"type":"object","properties":{"cinemaId":{"type":"number","example":1},"movieIds":{"example":[1,2],"type":"array","items":{"type":"string"}}},"required":["cinemaId","movieIds"]},"MovieIsAvailableForCinemaDto":{"type":"object","properties":{"isAvailable":{"type":"boolean","example":true}},"required":["isAvailable"]},"Author":{"type":"object","properties":{"name":{"type":"string","example":"TheLittleSongbird"},"id":{"type":"string","example":"/user/ur20552756/"}},"required":["name","id"]},"InterestingVotes":{"type":"object","properties":{"down":{"type":"number","example":29},"up":{"type":"number","example":93}}},"Review":{"type":"object","properties":{"author":{"$ref":"#/components/schemas/Author"},"interestingVotes":{"$ref":"#/components/schemas/InterestingVotes"},"title":{"type":"string","example":"You love it or  you hate it, personally I loved it"},"text":{"type":"string","example":"Perhaps a little too long, but Fight Club is just a very well-made, brilliantly written and superlatively..."},"date":{"type":"string","example":"2021-06-15"}},"required":["title","text","date"]},"MovieReviewsEntity":{"type":"object","properties":{"id":{"type":"string"},"reviews":{"type":"array","items":{"$ref":"#/components/schemas/Review"}}},"required":["id","reviews"]},"TypeSeatEnum":{"type":"string","enum":["SEAT","VIP","LOVE"]},"FindMergedCinemaBookingSeatingSchemaDto":{"type":"object","properties":{"col":{"type":"number","example":1},"row":{"type":"number","example":1},"bookingCol":{"type":"number","example":1},"bookingRow":{"type":"number","example":1},"isBooked":{"type":"boolean","example":true},"type":{"example":"SEAT","$ref":"#/components/schemas/TypeSeatEnum"}},"required":["col","row","bookingCol","bookingRow","isBooked","type"]},"SeatPosWithTypeDto":{"type":"object","properties":{"col":{"type":"number","example":1},"row":{"type":"number","example":1},"type":{"example":"SEAT","$ref":"#/components/schemas/TypeSeatEnum"}},"required":["col","row","type"]},"BookingEntity":{"type":"object","properties":{"id":{"type":"number","example":1},"userId":{"type":"number","example":1},"totalPrice":{"type":"number","example":200},"currency":{"example":"USD","$ref":"#/components/schemas/CurrencyEnum"},"movieSessionId":{"type":"number","example":1},"createdAt":{"format":"date-time","type":"string","example":"2023-03-24T10:25:01.504Z"},"seats":{"type":"array","items":{"$ref":"#/components/schemas/SeatPosWithTypeDto"}}},"required":["id","userId","totalPrice","currency","movieSessionId","createdAt","seats"]},"FindSeatBookingDto":{"type":"object","properties":{"col":{"type":"number","example":1},"row":{"type":"number","example":1},"type":{"example":"SEAT","$ref":"#/components/schemas/TypeSeatEnum"}},"required":["col","row","type"]},"SeatPosDto":{"type":"object","properties":{"col":{"type":"number","example":1},"row":{"type":"number","example":1}},"required":["col","row"]},"CreateBookingDto":{"type":"object","properties":{"movieSessionId":{"type":"number","example":1},"desiredSeats":{"type":"array","items":{"$ref":"#/components/schemas/SeatPosDto"}}},"required":["movieSessionId","desiredSeats"]},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"pocketbook.love24@gmail.com"},"username":{"type":"string","example":"johndoe24"},"firstName":{"type":"string","example":"John"},"lastName":{"type":"string","example":"Doe"},"password":{"type":"string","example":"midapa"},"gender":{"type":"string","enum":["MALE","FEMALE"],"example":"MALE"},"language":{"type":"string","enum":["EN","RU"],"example":"EN"}},"required":["email","password"]},"RoleEnum":{"type":"string","enum":["USER","ADMIN"]},"GenderEnum":{"type":"string","enum":["MALE","FEMALE"]},"LanguageEnum":{"type":"string","enum":["EN","RU"]},"AuthProviderEnum":{"type":"string","enum":["LOCAL","GMAIL","GITHUB","FACEBOOK"]},"UserEntity":{"type":"object","properties":{"id":{"type":"number","example":1},"email":{"type":"object","example":"jonhdoe@gmail.com"},"username":{"type":"object","example":""},"firstName":{"type":"object","example":"Jonh"},"lastName":{"type":"object","example":"Doe"},"avatar":{"type":"object","example":"https://storage.yandexcloud.net/bucket-midapa/file1681995479808"},"role":{"example":"USER","$ref":"#/components/schemas/RoleEnum"},"gender":{"example":{"MALE":"MALE","FEMALE":"FEMALE"},"$ref":"#/components/schemas/GenderEnum"},"language":{"example":"EN","$ref":"#/components/schemas/LanguageEnum"},"provider":{"example":"LOCAL","$ref":"#/components/schemas/AuthProviderEnum"}},"required":["id","role","language","provider"]},"SigninDto":{"type":"object","properties":{"email":{"type":"string","example":"pocketbook.love24@gmail.com"},"password":{"type":"string","example":"midapa"}},"required":["email","password"]},"SeatPosition":{"type":"object","properties":{"row":{"type":"number"},"col":{"type":"number"}},"required":["row","col"]},"MatrixSeatPositions":{"type":"object","properties":{"colStart":{"type":"number"},"colEnd":{"type":"number"},"rowStart":{"type":"number"},"rowEnd":{"type":"number"}},"required":["colStart","colEnd","rowStart","rowEnd"]},"CreateCinemaHallDto":{"type":"object","properties":{"colLength":{"type":"number","example":4},"rowLength":{"type":"number","example":3},"positionsExclude":{"example":[{"row":1,"col":1},{"row":1,"col":4},{"row":3,"col":1},{"row":3,"col":4}],"type":"array","items":{"$ref":"#/components/schemas/SeatPosition"}},"areasExclude":{"example":[{"colStart":2,"colEnd":3,"rowStart":2,"rowEnd":2}],"type":"array","items":{"$ref":"#/components/schemas/MatrixSeatPositions"}},"vipSeats":{"example":[{"row":2,"col":1}],"type":"array","items":{"$ref":"#/components/schemas/SeatPosition"}},"loveSeats":{"example":[{"row":3,"col":2},{"row":3,"col":3}],"type":"array","items":{"$ref":"#/components/schemas/SeatPosition"}},"name":{"type":"string","example":"Aurora big hall"},"hallType":{"example":"2D","$ref":"#/components/schemas/HallTypeEnum"}},"required":["colLength","rowLength","name","hallType"]},"CinemaHallWithSchemaEntity":{"type":"object","properties":{"id":{"type":"number","example":1},"name":{"type":"string","example":"Aurora big hall"},"cinemaId":{"type":"number","example":1},"hallType":{"example":"2D","$ref":"#/components/schemas/HallTypeEnum"},"schema":{"type":"array","items":{"$ref":"#/components/schemas/SeatPosDto"}}},"required":["id","name","cinemaId","hallType","schema"]},"CinemaHallEntity":{"type":"object","properties":{"id":{"type":"number","example":1},"name":{"type":"string","example":"Aurora big hall"},"cinemaId":{"type":"number","example":1},"hallType":{"example":"2D","$ref":"#/components/schemas/HallTypeEnum"}},"required":["id","name","cinemaId","hallType"]}}}}